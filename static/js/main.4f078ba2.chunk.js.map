{"version":3,"sources":["context/UserContext.js","api/filmApi.js","api/country.js","api/category.js","components/Header/index.jsx","components/ListFilm/Film/index.jsx","components/ListFilm/index.jsx","components/Loadding/index.jsx","Pages/Home/ListFilmContainer/index.jsx","Pages/Home/SlideShow/index.jsx","Pages/Home/index.jsx","components/ErrorPage/index.jsx","Pages/FilterFilm/index.jsx","Pages/WatchFilm/comments/index.jsx","components/VideoPlayer/index.js","Pages/WatchFilm/advertisement/index.jsx","Pages/WatchFilm/index.jsx","components/HotFilm/index.jsx","fireBase/index.js","components/Conversation/icons/index.jsx","api/conversationApi.js","components/Conversation/index.jsx","components/LeftComponent/index.jsx","components/Input/index.jsx","api/userApi.js","Pages/Auth/Signin/index.js","Pages/Auth/Signup/index.js","Pages/Auth/index.js","Pages/Member/UserInfor/index.jsx","Pages/Member/FavoriteFilm/index.jsx","Pages/Member/ChangePassword/index.js","Pages/Member/index.js","Pages/Footer/index.js","App.js","reportWebVitals.js","index.js","api/axiosClient.js"],"names":["UserContext","React","createContext","UserProvider","Provider","Consumer","axiosClient","require","default","filmApi","getAll","params","a","get","getOne","url","voteFilm","method","data","getComments","postComment","postFilmError","getTicket","getLink","searFilm","countryApi","categoryApi","NavBar","props","submit","useState","collapse","setCollapse","useContext","userContext","user","setUser","setInputSearch","history","useHistory","fillterCountry","setFillterCountry","filltercAtegory","setFilltercAtegory","isLoading1","setIsLoading1","isLoading2","setIsLoading2","useEffect","limit","then","res","console","log","className","to","src","alt","onClick","htmlFor","type","id","categories","map","category","_id","name","countries","country","onSubmit","e","preventDefault","FilmApi","target","input","value","push","autoComplete","onChange","placeholder","avatar","userName","localStorage","removeItem","window","location","reload","Film","film","style","backgroundImage","img","backgroundSize","averageVote","ename","ListFilm","films","item","Loadding","fonsize","fontSize","ListFilmContainer","title","href","length","SlideShow","slides","slideShowRef","useRef","count","setCount","runSlideShowRef","mouseOverXRef","handleStart","current","touches","clientX","handleEnd","changedTouches","slide","addEventListener","passive","setInterval","removeEventListener","clearInterval","changeSlideImg","index","transform","ref","largerImg","backgroundColor","Home","newFilms","setNewFilms","actionFilms","setActionFilms","sort","product","ErrorPage","FilterFilm","searchFilm","query","useParams","genres","setGenres","setCountry","setSort","setYear","err","listFilm","setListFilm","year","fillter","setFillter","undefined","split","forEach","handleOnchange","Comments","comments","filmId","loadding","setLoadding","allComments","setAllcomment","status","alert","userId","comment","inputComment","handleSubmit","maxLength","formatTime","minutes","Math","floor","hours","seconds","VideoPlayer","video","boxVideo","progress","currentTime","durationVideo","cursor","valueVolum","setValueVolum","mouseDown","timeOut","istrue","innerVideo","link","onPlay","onLoading","muted","fullScreen","control","setControl","handleOnplay","handleVolum","volume","hanhdleSkip","timeSkip","handleProgress","percent","duration","childNodes","flexBasis","innerText","handleSlideProgress","slideTime","nativeEvent","offsetX","offsetWidth","document","onkeydown","key","onmousedown","onMouseMove","classList","remove","clearTimeout","setTimeout","add","width","height","onTimeUpdate","onLoadStart","playsInline","preload","onMouseUp","onCanPlay","onWaiting","display","bottom","onMouseDown","min","max","step","exitFullscreen","catch","requestFullscreen","Advertisement","countDown","setCountDown","countRef","WatchFilm","isOpenFilmInfo","setIsOpenFilmInfo","isOpenFilm","setIsOpenFilm","setFilm","filmStar","setFilmStar","linkFilm","setLinkFilm","setErr","overlayRef","ticketRef","openInfoRef","yourVoteItemRef","InfoContainerRef","disableClick","setDisableClick","getFilm","streamTapeId","result","ticket","vote","i","parseInt","color","x","y","viewBox","enableBackground","fill","stroke","d","voteLength","innerHTML","updatedAt","toString","slice","replace","alignItems","description","star","idFilm","idUser","message","handleVoteStar","onMouseOver","children","onMouseOut","renderStar","HotFilm","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","icons","syntax","conversationApi","getMany","socket","io","process","transports","Conversation","imageUrl","setImageUrl","imageUploadedRef","currentChats","setCurrentChat","chatRef","chatBox","popupRef","inputValueRef","createChat","image","sender","content","dangerouslySetInnerHTML","__html","put","on","snapshot","child","getDownloadURL","emit","senderId","isImg","inputText","trim","check","find","filter","includes","checkIcon","join","handleClick","splice","toggle","onClickIcon","focus","scrollTop","offsetHeight","arr","unshift","off","onScroll","files","URL","createObjectURL","rowNumbers","ceil","tbodyArr","iconImg","createElement","td","tr","renderIcon","LeftComponent","setFilms","Input","label","onBlur","showPassword","inputRef","isShowPass","setIsShowPass","userApi","signUp","post","signIn","signInAfterReload","Signin","email","password","setValue","handleChange","handleValidate","response","setItem","token","checkRegex","test","validate","marginTop","Signup","confirmPassword","successMessage","setSuccessMessage","isErr","nameErr","handle","Auth","path","component","UserInfor","FavoriteFilm","ChangePassword","currentPassword","newPassword","comfirmPassword","Member","activeClassName","Footer","App","setData","unRight","setUnRight","useLocation","setSubmit","fetch","json","getItem","pathname","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","axios","create","baseURL","headers","paramsSerializer","queryString","stringify","interceptors","use","error"],"mappings":"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","file":"static/js/main.4f078ba2.chunk.js","sourcesContent":["import React from 'react'\r\nconst UserContext = React.createContext({})\r\nexport const UserProvider = UserContext.Provider\r\nexport const UserConsumer = UserContext.Consumer\r\nexport default UserContext","const { default: axiosClient } = require(\"./axiosClient\")\r\nconst filmApi = {}\r\n\r\nfilmApi.getAll = async (params) => {\r\n    const url = `/api/product/getProductByQuery`\r\n    return await axiosClient.get(url,{params})\r\n}\r\nfilmApi.getOne = async (params) => {\r\n    const url= `/api/product/getProductById?${params}`\r\n    return await axiosClient.get(url)\r\n}\r\nfilmApi.voteFilm = async (params)=>{\r\n    const url = `/api/product/vote`\r\n    return await axiosClient({\r\n        method:'POST',\r\n        url:url,\r\n        data:params\r\n    })\r\n}\r\nfilmApi.getComments = async(params)=>{\r\n    const url = `/api/product/comment`\r\n    return await axiosClient.get(url,{params})\r\n}\r\nfilmApi.postComment = async(params)=>{\r\n    const url = '/api/product/comment'\r\n    return await axiosClient({\r\n        method:\"POST\",\r\n        url:url,\r\n        data:params\r\n    })\r\n}\r\nfilmApi.postFilmError = async(params)=>{\r\n    const url = '/api/filmError/createFilmError'\r\n    return await axiosClient({\r\n        method:\"POST\",\r\n        url:url,\r\n        data:params\r\n    })\r\n}\r\nfilmApi.getTicket = async (params)=>{\r\n    const url = '/api/product/streamTape/getTicket'\r\n    return await axiosClient.get(url,{params})\r\n}\r\nfilmApi.getLink = async (params)=>{\r\n    const url = '/api/product/streamTape/getlink'\r\n    return await axiosClient.get(url,{params})\r\n}\r\nfilmApi.searFilm = async(params)=>{\r\n    const url = '/api/product/searchFilm'\r\n    return await axiosClient({\r\n        method:\"POST\",\r\n        url:url,\r\n        data:params\r\n    })\r\n}\r\nexport default filmApi;","const { default: axiosClient } = require(\"./axiosClient\");\r\nconst countryApi = {};\r\n\r\ncountryApi.getAll = async (params) => {\r\n  const url = \"/api/country/getCountry\";\r\n  return await axiosClient.get(url, { params });\r\n};\r\n\r\nexport default countryApi;\r\n","const { default: axiosClient } = require(\"./axiosClient\");\r\nconst categoryApi = {};\r\n\r\ncategoryApi.getAll = async (params) => {\r\n  const url = \"/api/category/getcategory\";\r\n  return await axiosClient.get(url, { params });\r\n};\r\n\r\nexport default categoryApi;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link, NavLink, useHistory } from \"react-router-dom\";\r\nimport userContext from \"../../context/UserContext\";\r\nimport FilmApi from '../../api/filmApi'\r\nimport \"../../style/reset.css\";\r\nimport \"./style.scss\";\r\nimport countryApi from \"../../api/country\";\r\nimport categoryApi from \"../../api/category\";\r\nfunction NavBar(props) {\r\n  const { submit } = props\r\n  const [collapse, setCollapse] = useState(false);\r\n  const { user, setUser } = useContext(userContext);\r\n  const [inputSearch, setInputSearch] = useState('')\r\n  const history = useHistory()\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    FilmApi.searFilm({\r\n      data: e.target.input.value\r\n    }).then((res) => {\r\n      submit(res.data)\r\n      history.push('/search')\r\n      e.target.input.value = \"\"\r\n    })\r\n  }\r\n  const [fillterCountry, setFillterCountry] = useState(null);\r\n  const [filltercAtegory, setFilltercAtegory] = useState(null);\r\n  const [isLoading1, setIsLoading1] = useState(true);\r\n  const [isLoading2, setIsLoading2] = useState(true);\r\n\r\n  useEffect(() => {\r\n    countryApi.getAll({ limit: 20 }).then((res) => {\r\n      setFillterCountry(res.data);\r\n      setIsLoading1(false);\r\n    });\r\n    categoryApi.getAll({ limit: 20 }).then((res) => {\r\n      setFilltercAtegory(res.data);\r\n      console.log(res.data);\r\n      setIsLoading2(false);\r\n    });\r\n  }, []);\r\n\r\n  const handleCollapse = () => {\r\n    setCollapse(!collapse);\r\n  };\r\n\r\n  return (\r\n    <nav className=\"nav\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col col-img\">\r\n            <NavLink to=\"/\" className=\"nav__logo\">\r\n              <img src=\"https://i.imgur.com/lGh30No.png\" alt=\"logo\" />\r\n            </NavLink>\r\n          </div>\r\n          <div className=\"col col-hamburger\">\r\n            <div className=\"nav__hamburger\">\r\n              <i\r\n                className={collapse ? \"fas fa-times\" : \"fas fa-bars\"}\r\n                onClick={handleCollapse}\r\n              ></i>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={collapse ? \"nav__collapse nav__active\" : \"nav__collapse\"}\r\n          >\r\n            <ul className=\"nav__menu\">\r\n              <li className=\"nav__item nav__hover\">\r\n                <label htmlFor=\"checkbox1\" className=\"nav__link\">\r\n                  Thể Loại <i className=\"fas fa-caret-down\"></i>\r\n                </label>\r\n                <input type=\"checkbox\" id=\"checkbox1\" />\r\n                <ul className=\"nav__smenu\">\r\n                  {!isLoading2 &&\r\n                    filltercAtegory.categories.map((category) => (\r\n                      <li className=\"smenu__item\" key={category._id}>\r\n                        <Link\r\n                          className=\"smenu__link\"\r\n                          to={`/filter/genres=${category._id}`}\r\n                        >\r\n                          {category.name}\r\n                        </Link>\r\n                      </li>\r\n                    ))}\r\n                </ul>\r\n              </li>\r\n              <li className=\"nav__item nav__hover\">\r\n                <label htmlFor=\"checkbox2\" className=\"nav__link\">\r\n                  Quốc Gia <i className=\"fas fa-caret-down\"></i>\r\n                </label>\r\n                <input type=\"checkbox\" id=\"checkbox2\" />\r\n                <ul className=\"nav__smenu\">\r\n                  {!isLoading1 &&\r\n                    fillterCountry.countries.map((country) => {\r\n                      return (\r\n                        <li className=\"smenu__item\" key={country._id}>\r\n                          <Link\r\n                            to={`/filter/country=${country._id}`}\r\n                            className=\"smenu__link\"\r\n                          >\r\n                            {country.name}\r\n                          </Link>\r\n                        </li>\r\n                      );\r\n                    })}\r\n                </ul>\r\n              </li>\r\n              <li className=\"nav__item\">\r\n                <NavLink to=\"/filter/sort=votes\" className=\"nav__link\">\r\n                  Phim Hot\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav__item\">\r\n                <NavLink to=\"/filter/year=2020\" className=\"nav__link\">\r\n                  Phim Mới\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav__item\">\r\n                <NavLink to=\"/movies-shown-in-theater\" className=\"nav__link\">\r\n                  Phim Chiếu Rạp\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"col nav__search\">\r\n            <div className=\"nav__form\">\r\n              <form onSubmit={handleSubmit} className=\"nav__input\">\r\n                <input autoComplete=\"off\" onChange={(e) => {\r\n                  setInputSearch(e.target.value)\r\n                }} type=\"text\" name=\"input\" placeholder=\"Search\" />\r\n                <div className=\"nav__form--btn\">\r\n                  <button type=\"submit\">\r\n                    <i className=\"fas fa-search\"></i>\r\n                  </button>\r\n                </div>\r\n              </form>\r\n              <div className=\"nav__login\">\r\n                {user ? (\r\n                  <>\r\n                    {\" \"}\r\n                    <div className=\"user\">\r\n                      <div className=\"logo-user\">\r\n                        <img src={user.avatar} alt=\"logo\" />\r\n                      </div>\r\n                    </div>\r\n                    <span className=\"user-name\">{user.userName}</span>\r\n                    <ul className=\"menu-user\">\r\n                      <span className=\"display-name\">{user.userName}</span>\r\n                      <li className=\"user-item\">\r\n                        <Link className=\"user-link\" to=\"/member/user-infor\">\r\n                          <i className=\"far fa-user\"></i>\r\n                          Thông tin cá nhân\r\n                        </Link>\r\n                      </li>\r\n                      <li className=\"user-item\">\r\n                        <Link className=\"user-link\" to=\"/\">\r\n                          <i className=\"fas fa-film\"></i>\r\n                          tủ phim của bạn\r\n                        </Link>\r\n                      </li>\r\n                      <li className=\"user-item\">\r\n                        <i className=\"fas fa-sign-out-alt\"></i>\r\n                        <span\r\n                          className=\"user-link\"\r\n                          onClick={() => {\r\n                            localStorage.removeItem(\"token\");\r\n                            window.location.reload();\r\n                          }}\r\n                        >\r\n                          Đăng Xuất\r\n                        </span>\r\n                      </li>\r\n                    </ul>\r\n                  </>\r\n                ) : (\r\n                    <NavLink className=\"btn-login\" to=\"/auth/sign-in\">\r\n                      Login\r\n                    </NavLink>\r\n                  )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\nfunction Film(props) {\r\n  const { film } = props;\r\n  return (\r\n    <div className=\"listFilm__item\">\r\n      <Link to={`/watch-film/${film._id}`}>\r\n        <div className=\"a123\">\r\n          <div\r\n            style={{\r\n              backgroundImage: `url('${film.img}')`,\r\n              backgroundSize: \"cover\",\r\n            }}\r\n            className=\"listFilm__item__img\"\r\n          >\r\n            <div className=\"listFilm__item__playIcon\">\r\n              <div className=\"overlay\"></div>\r\n              <i className=\"fas fa-play\"></i>\r\n            </div>\r\n            <div className=\"listFilm__item__star\">\r\n              <i className=\"fas fa-star\">\r\n                <p>{film.averageVote}</p>\r\n              </i>\r\n            </div>\r\n          </div>\r\n          <div className=\"listFilm__item__info\">\r\n            <p>{film.name}</p>\r\n            <p>{film.ename}</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Film;\r\n","import React from 'react'\r\nimport Film from './Film'\r\nimport './style.scss'\r\n\r\nfunction ListFilm(props) {\r\n    const {films} = props\r\n    return (\r\n        <div className=\"listFilm\">\r\n            {\r\n               films&&films.map((item)=><Film \r\n                 film={item} key={item._id}\r\n                />)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListFilm\r\n","import React from 'react'\r\nimport './style.scss'\r\nfunction Loadding(props) {\r\n    const {fonsize} = props\r\n    return (\r\n        <div  className=\"loadding\">\r\n            <i style={{\r\n            fontSize: fonsize&&fonsize\r\n        }} className=\"fas fa-spinner\"></i>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loadding\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ListFilm from \"../../../components/ListFilm\";\r\n\r\nimport Loadding from \"../../../components/Loadding\";\r\nimport \"./style.scss\";\r\nfunction ListFilmContainer(props) {\r\n  const { title, films } = props;\r\n  useEffect(() => {}, []);\r\n  return (\r\n    <div className=\"ListFilmContainer\">\r\n      <div className=\"ListFilmContainer__title\">\r\n        <a href=\"/\">\r\n          <span>{title}</span>\r\n          <i className=\"fas fa-caret-right\"></i>\r\n        </a>\r\n      </div>\r\n      {films.length ? <ListFilm films={films} /> : <Loadding />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListFilmContainer;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Loadding from \"../../../components/Loadding\";\r\nimport \"./style.scss\";\r\nfunction SlideShow(props) {\r\n  const { slides } = props;\r\n  console.log(slides);\r\n  const slideShowRef = useRef();\r\n  let [count, setCount] = useState(0);\r\n  let runSlideShowRef = useRef();\r\n  let mouseOverXRef = useRef(0);\r\n  useEffect(() => {\r\n    function handleStart(e) {\r\n      mouseOverXRef.current = e.touches[0].clientX;\r\n    }\r\n    function handleEnd(e) {\r\n      if (\r\n        mouseOverXRef.current > e.changedTouches[0].clientX &&\r\n        mouseOverXRef.current - e.changedTouches[0].clientX > 50\r\n      ) {\r\n        console.log(\"right\");\r\n        if (count < slides.length - 1) setCount(count + 1);\r\n        else if (count >= slides.length - 1) setCount(0);\r\n      } \r\n\r\n      else if (\r\n        mouseOverXRef.current < e.changedTouches[0].clientX &&\r\n        e.changedTouches[0].clientX - mouseOverXRef.current > 50\r\n      ) {\r\n        console.log(\"left\");\r\n        if (count > 0) setCount(count - 1);\r\n        else if (count <= 0) setCount(slides.length - 1);\r\n      }\r\n    }\r\n    let slide = slideShowRef.current;\r\n    slide.addEventListener(\"touchstart\", handleStart,{passive:true} );\r\n    slide.addEventListener(\"touchend\", handleEnd);\r\n    runSlideShowRef.current = setInterval(() => {\r\n      if (count >= slides.length - 1) {\r\n        setCount(0);\r\n      } else {\r\n        setCount(count + 1);\r\n      }\r\n    }, 7000);\r\n    return () => {\r\n      slide.removeEventListener(\"touchstart\", handleStart);\r\n      slide.removeEventListener(\"touchend\", handleEnd);\r\n      clearInterval(runSlideShowRef.current);\r\n    };\r\n  }, [count, slides.length]);\r\n\r\n  const changeSlideImg = (index) => {\r\n    slideShowRef.current.style.transform = `translateX(-${index * 100}%)`;\r\n    setCount(index);\r\n  };\r\n  return (\r\n    <div className=\"home__slideShow\">\r\n      <div\r\n        ref={slideShowRef}\r\n        style={{\r\n          transform: `translateX(-${count * 100}%)`,\r\n        }}\r\n        className=\"home__slideShow__container\"\r\n      >\r\n        {slides.length?\r\n          slides.map((item) => {\r\n          return (\r\n            <div key={item._id} className=\"home__slideShow__item\">\r\n              <Link to={`/watch-film/${item._id}`}>\r\n                <img src={item.largerImg} alt={item.ename} />\r\n                </Link>\r\n            </div>\r\n          );\r\n        }):<Loadding/>\r\n      }\r\n      </div>\r\n      <div className=\"home-slideShow-dotButton\">\r\n        <div onClick={() => {\r\n          if (count > 0) {\r\n            changeSlideImg(count - 1)\r\n          }\r\n        }} className=\"home-slideShow-arrow\">\r\n          <i className=\"fas fa-chevron-left\"></i>\r\n        </div>\r\n        <ul>\r\n          {slides.map((item, index) => {\r\n            return (\r\n              <li className={index} key={item._id}>\r\n                <span\r\n                  style={{\r\n                    transform: count === index && 'scale(1.1)',\r\n                    backgroundColor: count === index ? \"rgba(255,255,255,0.9)\" : \"transparent\",\r\n                  }}\r\n                  onClick={() => changeSlideImg(index)}\r\n                ></span>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n        <div onClick={() => {\r\n          if (count < slides.length - 1) {\r\n            changeSlideImg(count + 1)\r\n          }\r\n        }} className=\"home-slideShow-arrow\">\r\n          <i className=\"fas fa-chevron-right\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SlideShow;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ListFilmContainer from \"./ListFilmContainer\";\r\nimport SlideShow from \"./SlideShow\";\r\nimport filmApi from \"../../api/filmApi\";\r\n\r\nfunction Home(props) {\r\n  const [newFilms, setNewFilms] = useState([]);\r\n  const [actionFilms, setActionFilms] = useState([]);\r\n  useEffect(() => {\r\n    filmApi\r\n      .getAll({\r\n        sort: \"date\",\r\n        limit: 10,\r\n      })\r\n      .then((res) => {\r\n        setNewFilms(res.data.product);\r\n      });\r\n\r\n    filmApi\r\n      .getAll({\r\n        category: \"5fd82f209644f00e2ee9b59c\",\r\n        limit: 10,\r\n      })\r\n      .then((res) => {\r\n        setActionFilms(res.data.product);\r\n      });\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {newFilms && actionFilms && (\r\n        <>\r\n          <SlideShow slides={newFilms} />\r\n          <ListFilmContainer films={newFilms} title=\"New Films\" />\r\n          <ListFilmContainer films={actionFilms} title=\"Action Films\" />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './style.scss'\r\nfunction ErrorPage() {\r\n    return (\r\n        <div className=\"errorPage\">\r\n            <div id=\"notfound\">\r\n                <div className=\"notfound\">\r\n                    <div className=\"notfound-404\">\r\n                        <h1>4<span>0</span>4</h1>\r\n                    </div>\r\n                    <p>The page you are looking for might have been removed had its name changed or is temporarily unavailable.</p>\r\n                    <Link to=\"/\">Home Page</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorPage\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Redirect, useHistory, useParams } from \"react-router-dom\";\r\nimport ListFilm from \"../../components/ListFilm\";\r\nimport ErrorPage from \"../../components/ErrorPage\";\r\nimport filmApi from \"../../api/filmApi\";\r\n\r\nimport \"./style.scss\";\r\nfunction FilterFilm(props) {\r\n  const {searchFilm} = props\r\n  let { query } = useParams();\r\n  const [genres, setGenres] = useState(null);\r\n  const [country, setCountry] = useState(null);\r\n  const [sort, setSort] = useState(null);\r\n  const [year, setYear] = useState(null);\r\n  const [err, setErr] = useState(false);\r\n  const [listFilm, setListFilm] = useState([]);\r\n  const [fillter, setFillter] = useState({\r\n    country: \"default\",\r\n    year: \"default\",\r\n    genres: \"default\",\r\n    sort: \"default\",\r\n  });\r\n\r\n  useEffect(() => {\r\n   if(query!== undefined){\r\n    let arrQuery = query.split(\"&\");\r\n    arrQuery.forEach((item) => {\r\n      let a = item.split(\"=\");\r\n      if (a[0] === \"country\") setCountry(a[1]);\r\n      if (a[0] === \"genres\") setGenres(a[1]);\r\n      if (a[0] === \"year\") setYear(a[1]);\r\n      if (a[0] === \"sort\") setSort(a[1]);\r\n    });\r\n   }\r\n   if(searchFilm!== undefined){\r\n    console.log(searchFilm);\r\n    setListFilm(searchFilm)\r\n  }\r\n    return () => {\r\n      console.log(\"removed\");\r\n      setCountry(null);\r\n      setGenres(null);\r\n      setYear(null);\r\n      setSort(null);\r\n    };\r\n  }, [query]);\r\n\r\n  const handleOnchange = (e) => {\r\n    setFillter({\r\n      ...fillter,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n\r\n    // if (e.target.name === \"genres\") {\r\n    //   setGenres(e.target.value);\r\n    // }\r\n    // if (e.target.name === \"country\") setCountry(e.target.value);\r\n    // if (e.target.name === \"year\") setYear(e.target.value);\r\n  };\r\n  useEffect(()=>{\r\n    console.log(searchFilm);\r\n    if(searchFilm!== undefined){\r\n      console.log(searchFilm);\r\n      setListFilm(searchFilm)\r\n    }\r\n  },[searchFilm])\r\n  useEffect(() => {\r\n    country &&\r\n      filmApi.getAll({ country: country }).then((res) => {\r\n        console.log(res.data.product);\r\n        setListFilm(res.data.product);\r\n      });\r\n    genres &&\r\n      filmApi.getAll({ category: genres }).then((res) => {\r\n        setListFilm(res.data.product);\r\n      });\r\n  }, [country, genres]);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    filmApi\r\n      .getAll({\r\n        category: fillter.genres,\r\n        country: fillter.country,\r\n        year: fillter.year,\r\n        sort: fillter.sort\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data.product);\r\n        setListFilm(res.data.product);\r\n      });\r\n    console.log(fillter);\r\n  };\r\n  return (\r\n    <div className=\"filterFilm\">\r\n      {!err ? (\r\n        <>\r\n          <div className=\"filterFilm__title\">\r\n            <span>Fillter Films</span>\r\n            <i className=\"fas fa-caret-right\"></i>\r\n          </div>\r\n          {\r\n            <div className=\"filterFilm__filter\">\r\n              <form onSubmit={handleSubmit}>\r\n                <select\r\n                  name=\"genres\"\r\n                  onChange={handleOnchange}\r\n                  value={fillter.genres ? fillter.genres : \"default\"}\r\n                >\r\n                  <option value=\"default\">Genres</option>\r\n                  <option value=\"5fd82f209644f00e2ee9b59c\">Action</option>\r\n                  <option value=\"5fd829015956e30ad2b47c59\">Horror</option>\r\n                  <option value=\"5fd82f0d9644f00e2ee9b59b\">\r\n                    Science Fiction\r\n                  </option>\r\n                  <option value=\"5fd82f279644f00e2ee9b59d\">Comedy</option>\r\n                  <option value=\"5fcc7a7a08fd0b07136ef11a\">Drama</option>\r\n                  <option value=\"5fd8415f7e38360f816e5f75\">Cartoon</option>\r\n                </select>\r\n                <select\r\n                  name=\"country\"\r\n                  onChange={handleOnchange}\r\n                  value={fillter.country ? fillter.country : \"default\"}\r\n                >\r\n                  <option value=\"default\">Country</option>\r\n                  <option value=\"5fcdcef26ddb480fad13b2db\">Viet Nam</option>\r\n                  <option value=\"5fd8411f2ae2e546fc566363\">\r\n                    United States\r\n                  </option>\r\n                  <option value=\"5fd841522ae2e546fc566366\">China</option>\r\n                  <option value=\"5fd8413c2ae2e546fc566364\">korea</option>\r\n                  <option value=\"5fd7b993aa16a62b596010ee\">thailand</option>\r\n                  <option value=\"5fd841492ae2e546fc566365\">Hong Kong</option>\r\n                </select>\r\n                <select\r\n                  name=\"year\"\r\n                  onChange={handleOnchange}\r\n                  value={fillter.year ? fillter.year : \"default\"}\r\n                >\r\n                  <option value=\"default\">Year</option>\r\n                  <option value=\"2020\">2020</option>\r\n                  <option value=\"2019\">2019</option>\r\n                  <option value=\"2018\">2018</option>\r\n                  <option value=\"2017\">2017</option>\r\n                  <option value=\"2016\">2016</option>\r\n                  <option value=\"2015\">2015</option>\r\n                  <option value=\"2014\">2014</option>\r\n                </select>\r\n                <select\r\n                  name=\"sort\"\r\n                  onChange={handleOnchange}\r\n                  value={fillter.sort ? fillter.sort : \"default\"}\r\n                >\r\n                  <option value=\"default\">Sort</option>\r\n                  <option value=\"vote\">Votes</option>\r\n                  <option value=\"date\">Date update</option>\r\n                </select>\r\n                <button type=\"submit\">Filter Film</button>\r\n              </form>\r\n            </div>\r\n          }\r\n          <div className=\"filterFilm__listFilm\">\r\n            <ListFilm films={listFilm} />\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <ErrorPage />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterFilm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport filmApi from \"../../../api/filmApi\";\r\nimport Loadding from \"../../../components/Loadding\";\r\nimport \"./style.scss\";\r\nfunction Comments(props) {\r\n  const { comments = [],user,filmId } = props;\r\n  const [loadding,setLoadding] = useState(false)\r\n  const [allComments,setAllcomment] = useState([])\r\n\r\n  useEffect(()=>{\r\n    try{\r\n      filmApi.getComments({\r\n        id:filmId,\r\n        limit:5\r\n      }).then((res)=>{\r\n        console.log(res);\r\n        if(res.status === 200){\r\n          setAllcomment(res.data.comments)\r\n        }\r\n      })\r\n    }catch(err){\r\n      alert(err)\r\n    }\r\n  },[])\r\n\r\n  const handleSubmit = (e)=>{\r\n    e.preventDefault()\r\n    try{\r\n      filmApi.postComment({\r\n        id:filmId,\r\n        userId:user._id,\r\n        comment:e.target.inputComment.value\r\n      }).then((res)=>{\r\n        if(res.status===200){\r\n          setAllcomment([{\r\n            comment:e.target.inputComment.value,\r\n            user:[\r\n              {\r\n                avatar:user.avatar,\r\n                userName:user.userName,\r\n              }\r\n            ]\r\n          },...allComments])\r\n          e.target.inputComment.value=\"\"\r\n        }\r\n      })\r\n    }catch(err){\r\n      alert(err)\r\n    }\r\n  }\r\n  useEffect(()=>{\r\n  },[allComments])\r\n  return (\r\n    <div className=\"comments\">\r\n      <form onSubmit={(e)=>{\r\n        e.preventDefault()\r\n        if(user){\r\n          handleSubmit(e)\r\n        }\r\n        else {\r\n          e.target.inputComment.value=\"\"\r\n          alert('you have to login to comment')\r\n        }\r\n      }} className=\"comments__form\">\r\n        <img\r\n          src={user?user.avatar:'https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/images%2Ficon-user.svg?alt=media&token=a31c548c-bc91-4cee-b861-80ecf0128d58'}\r\n          alt=\"logo\"\r\n        />\r\n        <input\r\n          autoComplete=\"off\"\r\n          type=\"text\"\r\n          maxLength=\"185\"\r\n          placeholder=\"Your comments\"\r\n          name=\"inputComment\"\r\n        />\r\n        <button type=\"submit\">Comment</button>\r\n      </form>\r\n      <div className=\"comments__listComment\">\r\n        <ul className=\"comments__listComment__container\">\r\n          {allComments.map((item,index) => (\r\n            <li key={index}>\r\n              <div className=\"comments__listComment__container__img\">\r\n                <img src={item.user[0].avatar} alt=\"logo\" />\r\n              </div>\r\n              <div className=\"comments__listComment__container__info\">\r\n                <p>{item.user[0].userName}</p>\r\n                <p>{item.comment}</p>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div className=\"comments__listComment__loading\">\r\n                <span onClick={()=>{\r\n                  try{\r\n                    setLoadding(true)\r\n                    filmApi.getComments({\r\n                      id:filmId,\r\n                      limit:allComments.length+5\r\n                    }).then((res)=>{\r\n                      console.log(res);\r\n                      if(res.status === 200){\r\n                        setAllcomment(res.data.comments)\r\n                        setLoadding(false)\r\n                      }\r\n                    })\r\n                  }catch(err){\r\n                    alert(err)\r\n                    setLoadding(false)\r\n                  }\r\n                }}>{loadding?<Loadding/>:'See More...'}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Comments;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\nimport \"./style.scss\";\r\n\r\nfunction formatTime(current) {\r\n  if (!current) {\r\n    return \"00:00:00\";\r\n  }\r\n  var minutes = Math.floor(current / 60);\r\n  var hours = Math.floor(minutes / 60);\r\n  hours = hours >= 10 ? hours : \"0\" + hours;\r\n  if (minutes >= 60) {\r\n    minutes = minutes - 60 * Math.floor(minutes / 60);\r\n  }\r\n  minutes = minutes >= 10 ? minutes : \"0\" + minutes;\r\n  var seconds = Math.floor(current % 60);\r\n  seconds = seconds >= 10 ? seconds : \"0\" + seconds;\r\n  return hours + \":\" + minutes + \":\" + seconds;\r\n}\r\n\r\nfunction VideoPlayer(props) {\r\n  const video = useRef(null);\r\n  const boxVideo = useRef(null);\r\n  const progress = useRef(null);\r\n  const currentTime = useRef(null);\r\n  const durationVideo = useRef(\"\");\r\n  const cursor = useRef(null);\r\n  const [valueVolum, setValueVolum] = useState(50);\r\n  let mouseDown = false;\r\n  let timeOut = null;\r\n  let istrue = true;\r\n  let innerVideo = useRef(false);\r\n  const { link } = props;\r\n  const [control, setControl] = useState({\r\n    onPlay: true,\r\n    onLoading: false,\r\n    muted: false,\r\n    fullScreen: false,\r\n  });\r\n\r\n  const { onPlay, onLoading, muted, fullScreen } = control;\r\n\r\n  const handleOnplay = () => {\r\n    setControl({\r\n      ...control,\r\n      onPlay: !control.onPlay,\r\n    });\r\n    const a = control.onPlay ? \"play\" : \"pause\";\r\n    video.current[a]();\r\n    // innerVideo.current = true;\r\n  };\r\n\r\n  const handleLoading = () => {\r\n    setControl({\r\n      ...control,\r\n      onLoading: true,\r\n    });\r\n  };\r\n\r\n  const handleLoaded = () => {\r\n    setControl({\r\n      ...control,\r\n      onLoading: false,\r\n    });\r\n    if (istrue) {\r\n      durationVideo.current = formatTime(video.current.duration);\r\n      istrue = false;\r\n    }\r\n  };\r\n  const handleVolum = (e) => {\r\n    setValueVolum(e.target.value);\r\n    video.current.volume = valueVolum / 100;\r\n\r\n    if (e.target.value === \"0\") {\r\n      setControl({\r\n        ...control,\r\n        muted: true,\r\n      });\r\n    } else {\r\n      if (muted) {\r\n        setControl({\r\n          ...control,\r\n          muted: false,\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const hanhdleSkip = (timeSkip) => {\r\n    video.current.currentTime += timeSkip;\r\n  };\r\n  const handleMuted = () => {\r\n    setControl({\r\n      ...control,\r\n      muted: !muted,\r\n    });\r\n  };\r\n\r\n  const handleFullScreen = (e) => {\r\n    setControl({\r\n      ...control,\r\n      fullScreen: !fullScreen,\r\n    });\r\n\r\n    fullScreen\r\n      ? document\r\n          .exitFullscreen()\r\n          .then()\r\n          .catch((err) => {\r\n            boxVideo.current.requestFullscreen();\r\n          })\r\n      : boxVideo.current.requestFullscreen();\r\n  };\r\n\r\n  const handleProgress = () => {\r\n    let percent = (video.current.currentTime / video.current.duration) * 100;\r\n\r\n    progress.current.childNodes[0].style.flexBasis = percent + \"%\";\r\n\r\n    video.current.currentTime === video.current.duration && handleOnplay();\r\n    currentTime.current.innerText = formatTime(video.current.currentTime);\r\n  };\r\n\r\n  const handleSlideProgress = (e) => {\r\n    let slideTime =\r\n      (e.nativeEvent.offsetX / progress.current.offsetWidth) *\r\n      video.current.duration;\r\n    progress.current.childNodes[0].style.flexBasis =\r\n      (slideTime / video.current.duration) * 100 + \"%\";\r\n    video.current.currentTime = slideTime || 0;\r\n  };\r\n\r\n  const handeHideCursor = (e) => {\r\n    if (fullScreen) {\r\n      if (cursor.current.classList[1] === \"test\") {\r\n        cursor.current.classList.remove(\"test\");\r\n        video.current.style.cursor = \"auto\";\r\n      }\r\n      timeOut && clearTimeout(timeOut);\r\n      timeOut = setTimeout(() => {\r\n        video.current.style.cursor = \"none\";\r\n        cursor.current.classList.add(\"test\");\r\n      }, 3000);\r\n      return;\r\n    } else {\r\n      video.current.style.cursor = \"auto\";\r\n    }\r\n    if (cursor.current.classList[1] === \"test\") {\r\n      cursor.current.classList.remove(\"test\");\r\n    }\r\n  };\r\n\r\n  document.onkeydown = (e) => {\r\n    if (innerVideo.current) {\r\n      switch (e.key) {\r\n        case \"ArrowRight\":\r\n          hanhdleSkip(20);\r\n          break;\r\n\r\n        case \"ArrowLeft\":\r\n          hanhdleSkip(-15);\r\n          break;\r\n        case \"ArrowUp\":\r\n          if (valueVolum === 100) {\r\n            return;\r\n          }\r\n          setControl({\r\n            ...control,\r\n            muted: false,\r\n          });\r\n          setValueVolum(valueVolum + 10);\r\n          video.current.volume = (valueVolum + 10) / 100;\r\n          e.preventDefault();\r\n          break;\r\n        case \"ArrowDown\":\r\n          if (valueVolum === 0) {\r\n            setControl({\r\n              ...control,\r\n              muted: true,\r\n            });\r\n            return;\r\n          }\r\n          setValueVolum(valueVolum - 10);\r\n          video.current.volume = (valueVolum - 10) / 100;\r\n          e.preventDefault();\r\n\r\n          break;\r\n        case \" \":\r\n          handleOnplay();\r\n          e.preventDefault();\r\n          break;\r\n        default:\r\n      }\r\n    }\r\n  };\r\n  document.onmousedown = (e) => {\r\n    innerVideo.current = false;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"container-player\"\r\n      onClick={() => {\r\n        innerVideo.current = true;\r\n      }}\r\n    >\r\n      <div className=\"box-video\" ref={boxVideo} onMouseMove={handeHideCursor}>\r\n        <video\r\n          width=\"100%\"\r\n          ref={video}\r\n          height=\"100%\"\r\n          className=\"video\"\r\n          src={link}\r\n          type=\"video/mp4\"\r\n          muted={muted}\r\n          onTimeUpdate={handleProgress}\r\n          onClick={(e) => {\r\n            handleOnplay(e);\r\n          }}\r\n          onLoadStart={() => {\r\n            handleOnplay();\r\n          }}\r\n          playsInline\r\n          preload=\"metadata\"\r\n          onMouseUp={() => (mouseDown = false)}\r\n          onMouseMove={(e) => {\r\n            mouseDown && handleSlideProgress(e);\r\n          }}\r\n          onCanPlay={handleLoaded}\r\n          onWaiting={handleLoading}\r\n        ></video>\r\n        <div\r\n          className=\"dashed-loading\"\r\n          style={{ display: onLoading ? \"block\" : \"none\" }}\r\n        ></div>\r\n\r\n        <div\r\n          className=\"controls\"\r\n          style={{ bottom: onPlay && \"0\" }}\r\n          ref={cursor}\r\n          onMouseUp={() => (mouseDown = false)}\r\n          onMouseMove={(e) => {\r\n            mouseDown && handleSlideProgress(e);\r\n          }}\r\n        >\r\n          <div\r\n            className=\"container-progress \"\r\n            onClick={handleSlideProgress}\r\n            onMouseMove={(e) => {\r\n              mouseDown && handleSlideProgress(e);\r\n            }}\r\n            onMouseDown={() => (mouseDown = true)}\r\n            onMouseUp={() => (mouseDown = false)}\r\n            ref={progress}\r\n          >\r\n            <div className=\"progress\"></div>\r\n          </div>\r\n          <div className=\"btn-container\">\r\n            <div className=\"btn-volum\">\r\n              <div className=\"icon-volum\">\r\n                <i\r\n                  className={muted ? \"fas fa-volume-mute\" : \"fas fa-volume-up\"}\r\n                  onClick={handleMuted}\r\n                ></i>\r\n              </div>\r\n              <div className=\"custom-volume\">\r\n                <div className=\"progress-volume\">\r\n                  <span\r\n                    className=\"fill\"\r\n                    style={{ width: valueVolum + \"%\" }}\r\n                  ></span>\r\n                </div>\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"range\"\r\n                  min=\"0\"\r\n                  max=\"100\"\r\n                  step=\"10\"\r\n                  value={valueVolum}\r\n                  onChange={handleVolum}\r\n                  onClick={handleVolum}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"btn-play\">\r\n              <p className=\"current-time\" ref={currentTime}>\r\n                00:00:00\r\n              </p>\r\n              <div\r\n                className=\"icon-backward\"\r\n                onClick={() => {\r\n                  hanhdleSkip(-15);\r\n                  handleProgress();\r\n                }}\r\n              >\r\n                <i className=\"fas fa-backward\"></i>\r\n              </div>\r\n              <div className=\"icon-play\">\r\n                <i\r\n                  className={\r\n                    onPlay ? \" far fa-play-circle\" : \"far fa-pause-circle\"\r\n                  }\r\n                  onClick={handleOnplay}\r\n                ></i>\r\n              </div>\r\n              <div\r\n                className=\"icon-forward\"\r\n                onClick={() => {\r\n                  hanhdleSkip(20);\r\n                  handleProgress();\r\n                }}\r\n              >\r\n                <i className=\"fas fa-forward\"></i>\r\n              </div>\r\n              <p className=\"duration-time\">\r\n                {durationVideo.current || \"00:00:00\"}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"fullsceen\">\r\n              <i className=\"fas fa-expand\" onClick={handleFullScreen}></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VideoPlayer;\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport './style.scss'\r\n\r\nfunction Advertisement() {\r\n    let [countDown, setCountDown] = useState(6)\r\n    let countRef = useRef()\r\n    useEffect(() => {\r\n        let count = setInterval(() => {\r\n            setCountDown(countRef.current)\r\n        }, 1000);\r\n        return () => {\r\n            clearInterval(count)\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        countRef.current = countDown - 1\r\n    }, [countDown])\r\n    return (\r\n        <div className=\"advertisement\">\r\n            <div className=\"advertisement__number\">\r\n                <div>\r\n                    {\r\n                        countDown\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Advertisement\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport Comments from \"./comments\";\r\nimport Loadding from \"../../components/Loadding\";\r\nimport FilmApi from \"../../api/filmApi\";\r\nimport ErrorPage from \"../../components/ErrorPage\";\r\nimport \"./style.scss\";\r\nimport UserContext from \"../../context/UserContext\";\r\nimport VideoPlayer from \"../../components/VideoPlayer\";\r\nimport filmApi from \"../../api/filmApi\";\r\nimport Advertisement from \"./advertisement\"\r\n\r\nfunction WatchFilm() {\r\n  const [isOpenFilmInfo, setIsOpenFilmInfo] = useState(true);\r\n  const [isOpenFilm, setIsOpenFilm] = useState(false);\r\n  const [film, setFilm] = useState(null);\r\n  const [filmStar, setFilmStar] = useState(null);\r\n  const [linkFilm, setLinkFilm] = useState(null)\r\n  const [err, setErr] = useState(false);\r\n  const { user, setUser } = useContext(UserContext)\r\n  const { id } = useParams();\r\n  const overlayRef = useRef()\r\n  const ticketRef = useRef(null)\r\n  const openInfoRef = useRef();\r\n  const yourVoteItemRef = useRef();\r\n  const InfoContainerRef = useRef();\r\n  const [disableClick, setDisableClick] = useState(true)\r\n\r\n  const handleVoteStar = (index) => {\r\n    if (user) {\r\n      console.log(index);\r\n      try {\r\n        filmApi.voteFilm({\r\n          idFilm: id,\r\n          idUser: user._id,\r\n          vote: index,\r\n        }).then((res) => {\r\n          alert(res.data.message)\r\n        })\r\n      }\r\n      catch (err) {\r\n        alert(err)\r\n      }\r\n    } else alert(\"please login to vote\");\r\n  };\r\n  const handleOverVoteStar = (index) => {\r\n    let newArr = [...yourVoteItemRef.current.children];\r\n    newArr.forEach((item, i) => {\r\n      if (i < index) item.classList.add(\"yellow\");\r\n    });\r\n  };\r\n  const handleMouseOutVoteStar = () => {\r\n    let newArr = [...yourVoteItemRef.current.children];\r\n    newArr.forEach((item) => {\r\n      item.classList.remove(\"yellow\");\r\n    });\r\n  };\r\n  const renderStar = () => {\r\n    const star = [];\r\n    for (let x = 0; x < 10; x++) {\r\n      star.push(\r\n        <i\r\n          key={x}\r\n          onClick={() => {\r\n            handleVoteStar(x + 1);\r\n          }}\r\n          onMouseOver={() => {\r\n            handleOverVoteStar(x + 1);\r\n          }}\r\n          onMouseOut={() => {\r\n            handleMouseOutVoteStar();\r\n          }}\r\n          className=\"fas fa-star\"\r\n        ></i>\r\n      );\r\n    }\r\n    return star.map((item) => item);\r\n  };\r\n  const convertDate = () => {\r\n    var res = film.updatedAt.toString().slice(0, 10).replace(/-/g, \"/\");\r\n    return res\r\n  }\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n    }, 5000)\r\n  }, [])\r\n  useEffect(() => {\r\n    async function getFilm() {\r\n      try {\r\n        let res = await FilmApi.getOne(`id=${id}`);\r\n        console.log(res.data);\r\n        setFilm(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n        if (err) setErr(true);\r\n      }\r\n    }\r\n    getFilm();\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (film) {\r\n      console.log(film.streamTapeId);\r\n      FilmApi.getTicket({\r\n        key: film.streamTapeId\r\n      }).then((res) => {\r\n        if (res.data.status === 200) {\r\n          console.log(res.data);\r\n          ticketRef.current = res.data.result.ticket\r\n          setDisableClick(false)\r\n        }\r\n        else if (res.data.status === 500||res.data.status === 400) {\r\n          alert('Sorry we cant get link this Film')\r\n        }\r\n      })\r\n    }\r\n\r\n    if (film) {\r\n      let vote = [];\r\n      for (let i = 0; i < 10; i++) {\r\n        if (i < parseInt(film.averageVote))\r\n          vote.push(\r\n            <i\r\n              style={{\r\n                color: \"#dbb043\",\r\n              }}\r\n              className=\"fas fa-star\"\r\n            ></i>\r\n          );\r\n        else vote.push(<i className=\"fas fa-star\"></i>);\r\n      }\r\n      setFilmStar(vote);\r\n    }\r\n  }, [film]);\r\n  return (\r\n    <>\r\n      {err && <ErrorPage />}\r\n      {!err && film && (\r\n        <div className=\"watchFilm\">\r\n          {!isOpenFilm ? (\r\n            <div className=\"watchFilm__video\">\r\n              <img src={film.largerImg} alt=\"logo\" />\r\n              {\r\n                disableClick\r\n                ?<Advertisement/>\r\n                :<div\r\n                onClick={() => {\r\n                  if (disableClick) {\r\n                    \r\n                  } else {\r\n                    if (film.streamTapeId !== \"null\" && ticketRef.current !== null) {\r\n                      console.log(film.streamTapeId);\r\n                      console.log(ticketRef.current);\r\n                      try {\r\n                        filmApi.getLink({\r\n                          ticket: ticketRef.current,\r\n                          key: film.streamTapeId\r\n                        }).then((res) => {\r\n                          setLinkFilm(res.data.result.url)\r\n                        })\r\n                      } catch (err) {\r\n                        console.log(err);\r\n                      }\r\n                      setIsOpenFilm(true);\r\n\r\n                    } else alert('sorry this film is not available now')\r\n                  }\r\n                }\r\n\r\n                }\r\n                ref={overlayRef} className=\"watchFilm__video__overlay\"\r\n              >\r\n                  <div className=\"watchFilm__video__overlay__playIcon\">\r\n                  <svg\r\n                    x=\"0px\"\r\n                    y=\"0px\"\r\n                    height=\"100%\"\r\n                    width=\"100%\"\r\n                    viewBox=\"0 0 100 100\"\r\n                    enableBackground=\"new 0 0 100 100\"\r\n                  >\r\n                    <path\r\n                      className=\"stroke-solid\"\r\n                      fill=\"none\"\r\n                      stroke=\"#ffff\"\r\n                      d=\"M49.9,2.5C23.6,2.8,2.1,24.4,2.5,50.4C2.9,76.5,24.7,98,50.3,97.5c26.4-0.6,47.4-21.8,47.2-47.7\r\n                                    C97.3,23.7,75.7,2.3,49.9,2.5\"\r\n                    />\r\n                    <path\r\n                      className=\"icon\"\r\n                      fill=\"#ffff\"\r\n                      d=\"M38,69c-1,0.5-1.8,0-1.8-1.1V32.1c0-1.1,0.8-1.6,1.8-1.1l34,18c1,0.5,1,1.4,0,1.9L38,69z\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n              }\r\n              </div>    \r\n          ) : (\r\n              <div className=\"watchFilm__video\">\r\n                {linkFilm && <VideoPlayer link={linkFilm} />}\r\n              </div>\r\n            )}\r\n          <div className=\"watchFilm__main\">\r\n            <div className=\"watchFilm__vieName\">\r\n              <p>{film.name}</p>\r\n              <select>\r\n                <option value=\"sv1\">Server 1</option>\r\n                <option value=\"sv2\">Server 2</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"watchFilm__engName\">\r\n              <p>{film.ename}</p>\r\n              <div className=\"watchFilm__engName__favorite\">\r\n                <i className=\"fas fa-heart\"></i>\r\n                <p>Favorite film</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"watchFilm__vote\">\r\n              <div className=\"watchFilm__vote__right\">\r\n                <p>Voted: {film.averageVote}</p>\r\n                <div className=\"watchFilm__vote__right__star\">\r\n                  {filmStar\r\n                    ? filmStar.map((item, index) => <div key={index}>{item}</div>)\r\n                    : \"\"}\r\n                </div>\r\n                <div>( {film.voteLength} voted )</div>\r\n              </div>\r\n              <div className=\"watchFilm__vote__left\">\r\n                <div onClick={() => {\r\n                  if (user) {\r\n                    filmApi.postFilmError({\r\n                      id: id\r\n                    }).then((res) => {\r\n                      if (res.status === 200) alert(\"report film successfully\")\r\n                      else alert('something wrong')\r\n                    })\r\n                  }\r\n                  else alert('you have to login to report')\r\n                }} className=\"watchFilm__vote__left__error\">\r\n                  <i className=\"fas fa-exclamation-triangle\"></i>\r\n                  <p>Film Error</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button className=\"watchFilm__trailer\">\r\n              Trailer <i className=\"fas fa-caret-right\"></i>\r\n            </button>\r\n            <div className=\"watchFilm__filmInfo\">\r\n              <div\r\n                onClick={() => {\r\n                  if (isOpenFilmInfo) {\r\n                    openInfoRef.current.innerHTML = \"+\";\r\n                    setIsOpenFilmInfo(false);\r\n                  } else {\r\n                    openInfoRef.current.innerHTML = \"-\";\r\n                    setIsOpenFilmInfo(true);\r\n                  }\r\n                }}\r\n                className=\"watchFilm__filmInfo__top\"\r\n              >\r\n                <h3>Film Info</h3>\r\n                <span ref={openInfoRef}>-</span>\r\n              </div>\r\n              <ul\r\n                ref={InfoContainerRef}\r\n                className={\r\n                  isOpenFilmInfo\r\n                    ? \"watchFilm__filmInfo__bottom activeInfo\"\r\n                    : \"watchFilm__filmInfo__bottom\"\r\n                }\r\n              >\r\n                <li>Subtitle: VietSub</li>\r\n                <li>Update date: {convertDate()}</li>\r\n                <li>Movie length: 120 munites</li>\r\n                <li style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                  <p>Actors:</p>\r\n                  <ul className=\"watchFilm__filmInfo__bottom__actors\">\r\n                    <li>\r\n                      <img\r\n                        src=\"https://cf.shopee.vn/file/6705ccbb67416a1dd07e00ec1eddd49b\"\r\n                        alt=\"logo\"\r\n                      />\r\n                      <p>Tony Stark</p>\r\n                    </li>\r\n                    <li>\r\n                      <img\r\n                        src=\"https://cf.shopee.vn/file/6705ccbb67416a1dd07e00ec1eddd49b\"\r\n                        alt=\"logo\"\r\n                      />\r\n                      <p>Tony Stark</p>\r\n                    </li>\r\n                    <li>\r\n                      <img\r\n                        src=\"https://cf.shopee.vn/file/6705ccbb67416a1dd07e00ec1eddd49b\"\r\n                        alt=\"logo\"\r\n                      />\r\n                      <p>Tony Stark</p>\r\n                    </li>\r\n                    <li>\r\n                      <img\r\n                        src=\"https://cf.shopee.vn/file/6705ccbb67416a1dd07e00ec1eddd49b\"\r\n                        alt=\"logo\"\r\n                      />\r\n                      <p>Tony Stark</p>\r\n                    </li>\r\n                  </ul>\r\n                </li>\r\n                <li className=\"watchFilm__filmInfo__bottom__description\">\r\n                  {film.description}\r\n                </li>\r\n                <li>\r\n                  Genres:{\" \"}\r\n                  {film.categories.map((item, index) => {\r\n                    if (index !== film.categories.length - 1) {\r\n                      return <span key={index}>{item.name},</span>;\r\n                    } else return <span key={index}>{item.name}.</span>;\r\n                  })}\r\n                </li>\r\n                <li>Country: {film.country[0].name}</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div className=\"watchFilm__yourVote\">\r\n            <p>Vote this film</p>\r\n            <div ref={yourVoteItemRef} className=\"watchFilm__yourVote__item\">\r\n              {renderStar()}\r\n            </div>\r\n          </div>\r\n          <div className=\"watchFilm__comments\">\r\n            <Comments user={user} filmId={id} />\r\n          </div>\r\n        </div>\r\n      )}\r\n      {!film && !err && <Loadding />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default WatchFilm;\r\n","import React from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\nfunction HotFilm(props) {\r\n  const { films, title } = props;\r\n  console.log(films);\r\n  return (\r\n    <div className=\"topFilm\">\r\n      <p className=\"topFilm__title\">{title}</p>\r\n      <ul>\r\n        {films.map((item) => (\r\n          <li key={item._id}>\r\n            <Link to={`/watch-film/${item._id}`}>\r\n              <img src={item.img} alt=\"img\" />\r\n              <div className=\"topFilm__item__info\">\r\n                <p>{item.name}</p>\r\n                <p>{item.ename}</p>\r\n                <div className=\"topFilm__item__info__vote\">\r\n                  <i className=\"fas fa-star\"></i>\r\n                  <span>{item.averageVote}</span>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HotFilm;\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/storage'\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA6v1GUyiLSdBTRQXBs_m0ntT87-oj8bhg\",\r\n  authDomain: \"react-upload-image-d14cb.firebaseapp.com\",\r\n  projectId: \"react-upload-image-d14cb\",\r\n  storageBucket: \"react-upload-image-d14cb.appspot.com\",\r\n  messagingSenderId: \"301348350634\",\r\n  appId: \"1:301348350634:web:994642e13ef98235defed3\",\r\n  measurementId: \"G-WCDRLP88J0\"\r\n};\r\n  // Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig)\r\n\r\nconst storage = firebase.storage()\r\n\r\nexport {storage,firebase}","const icons =[\r\n    {\r\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F1.gif?alt=media&token=722f786c-5a97-4511-8d7f-9ac9b43f3c32\",\r\n        syntax: \":)\",\r\n    },\r\n   {\r\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F2.gif?alt=media&token=50efbf6a-7457-4b04-a5dd-ef59995dd567\",\r\n        syntax: \":(\",\r\n    },\r\n   {\r\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F3.gif?alt=media&token=ce44307f-97e8-4552-b187-c2adef403409\",\r\n        syntax: \";;.)\",\r\n    },\r\n   {\r\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F4.gif?alt=media&token=9d30ccb4-e1fe-4713-9bb9-983fad83d4a7\",\r\n        syntax: \">:D<\",\r\n    },\r\n   {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F5.gif?alt=media&token=86cc4e82-21a5-4136-bef1-d9031cefbc5d\",\r\n      syntax: \";)\",\r\n    },\r\n   {\r\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F6.gif?alt=media&token=ffcbbce3-dd9e-4219-a68b-7a2d712e7649\",\r\n        syntax: \":-/\",\r\n    },\r\n   {\r\n        url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F7.gif?alt=media&token=4555c9b4-cacc-4b89-93cd-d4a7fb9f8763\",\r\n        syntax: \":-/\",\r\n    },\r\n   {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F8.gif?alt=media&token=77e6e246-a810-4df6-b489-9887419f7abe\",\r\n      syntax: \":x\",\r\n    },\r\n     {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F9.gif?alt=media&token=e78f2319-f64b-4bf5-82b8-88520a35a9e5\",\r\n      syntax: ':\">',\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F10.gif?alt=media&token=92a3a046-0138-43f3-96b0-35157751cf95\",\r\n      syntax: \":P\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F11.gif?alt=media&token=44c90e65-17f1-4c0b-83d2-9ceb887d37fa\",\r\n      syntax: \":-*\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F12.gif?alt=media&token=f5dd88e2-758b-4039-8d74-e36ad824f465\",\r\n      syntax: \"=((\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F13.gif?alt=media&token=db587931-12a0-40ad-a063-35546f8c21ca\",\r\n      syntax: \":-O\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F14.gif?alt=media&token=574a760d-20cc-4dd1-9dfb-6d1c6d83930c\",\r\n      syntax: \"X(\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F15.gif?alt=media&token=a87c36d6-dc56-49f3-a25f-138fd4d17dc4\",\r\n      syntax: \":>\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F16.gif?alt=media&token=4421be56-8a5a-4e9c-867f-33326739fd89\",\r\n      syntax: \"B-)\",\r\n    },\r\n     {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F17.gif?alt=media&token=13fb267f-cd2e-4efd-aa6a-7409dfe37fc4\",\r\n      syntax: \"#:-S\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F18.gif?alt=media&token=d4287ded-4f24-4b4d-877f-2c938fe774f2\",\r\n      syntax: \":-S\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F19.gif?alt=media&token=d8da2715-5d60-4a18-aadd-616ba29fc1a7\",\r\n      syntax: \"&gt;:.)\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F20.gif?alt=media&token=4c439dd9-9632-4877-994e-8dea5e4d9d1c\",\r\n      syntax: \":.((\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F21.gif?alt=media&token=ff54f490-a3ea-42c6-97e4-58de73697bf5\",\r\n      syntax: \":.))\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F22.gif?alt=media&token=2987b4cc-73ec-49fd-a3ee-dca8c11fe981\",\r\n      syntax: \":|\",\r\n    },\r\n     {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F23.gif?alt=media&token=1c132e86-5a3d-41de-856f-d50e84a0208d\",\r\n      syntax: \"/:.)\",\r\n    },\r\n    {\r\n      url: \"https://firebasestorage.googleapis.com/v0/b/react-upload-image-d14cb.appspot.com/o/icons%2F24.gif?alt=media&token=4d39a30e-c91d-4164-975c-46b8f85e6800\",\r\n      syntax: \"=))\",\r\n    },\r\n  ]\r\n\r\n\r\nconst checkIcon = (data)=>{\r\n  let find = icons.filter((item) => data.includes(item.syntax));\r\n  if (find !== undefined) return find;\r\n  else return null;\r\n}\r\nexport {checkIcon,icons as default}","const { default: axiosClient } = require(\"./axiosClient\")\r\nconst conversationApi = {}\r\n\r\nconversationApi.getMany = async (params) => {\r\n    const url = `/api/conversation`\r\n    return await axiosClient.get(url,{params})\r\n}\r\n\r\n\r\nexport default conversationApi;","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport \"./style.scss\";\r\nimport { storage } from \"../../fireBase\";\r\nimport icons, { checkIcon } from \"./icons\";\r\nimport userContext from \"../../context/UserContext\";\r\nimport io from \"socket.io-client\";\r\nimport conversationApi from \"../../api/conversationApi\";\r\nimport Loadding from \"../Loadding\";\r\nconst socket = io(process.env.REACT_APP_API_URL, { transports: [\"websocket\"] });\r\n\r\nfunction Conversation() {\r\n  const [imageUrl, setImageUrl] = useState([]);\r\n  const [loadding, setLoadding] = useState(false);\r\n  const imageUploadedRef = useRef([]);\r\n  const [currentChats, setCurrentChat] = useState([]);\r\n  const chatRef = useRef([]);\r\n  const chatBox = useRef();\r\n  const { user, setUser } = useContext(userContext);\r\n  const popupRef = useRef();\r\n  const inputValueRef = useRef();\r\n  const renderIcon = () => {\r\n    let rowNumbers = Math.ceil(icons.length / 8);\r\n    let tbodyArr = [];\r\n    let id = 0;\r\n    for (let i = 0; i < rowNumbers; i++) {\r\n      let arr = [];\r\n      for (let y = 0; y < 8; y++) {\r\n        let iconImg = React.createElement(\"img\", {\r\n          id: id,\r\n          onClick: onClickIcon,\r\n          src: icons[id].url,\r\n        });\r\n        let td = React.createElement(\"td\", { key: id }, iconImg);\r\n        arr.push(td);\r\n        id++;\r\n      }\r\n      let tr = React.createElement(\"tr\", { key: id }, arr);\r\n      tbodyArr.push(tr);\r\n    }\r\n    let tbody = React.createElement(\"tbody\", null, tbodyArr);\r\n    return tbody;\r\n  };\r\n  const handleOnchange = (e) => {\r\n    if (e.target.files[0] !== undefined) {\r\n      console.log(\"zoday\");\r\n      imageUploadedRef.current.push(e.target.files[0]);\r\n      e.target.files = null;\r\n      console.log(imageUploadedRef.current);\r\n      imageUploadedRef.current.forEach((item) => {\r\n        setImageUrl([...imageUrl, URL.createObjectURL(item)]);\r\n      });\r\n    }\r\n  };\r\n  const createChat = (data, image = false) => {\r\n    console.log(image);\r\n    if (image) {\r\n      return (\r\n        <div className=\"conversation__chatBox__item__inner\">\r\n          <div className=\"conversation__chatBox__item__inner__avatar\">\r\n            <img src={data.sender[0].avatar} alt=\"\" />\r\n          </div>\r\n          <div className=\"conversation__chatBox__item__inner__info\">\r\n            <div className=\"conversation__chatBox__item__inner__info__sender\">\r\n              {data.sender[0].userName}\r\n            </div>\r\n            <div className=\"conversation__chatBox__item__inner__info__img\">\r\n              <img src={data.content} alt=\"\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"conversation__chatBox__item__inner\">\r\n        <div className=\"conversation__chatBox__item__inner__avatar\">\r\n          <img src={data.sender[0].avatar} alt=\"\" />\r\n        </div>\r\n        <div className=\"conversation__chatBox__item__inner__info\">\r\n          <div className=\"conversation__chatBox__item__inner__info__sender\">\r\n            {data.sender[0].userName}\r\n          </div>\r\n          <div\r\n            dangerouslySetInnerHTML={{ __html: data.content }}\r\n            className=\"conversation__chatBox__item__inner__info__content\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let Arr = [...currentChats];\r\n    if (imageUploadedRef.current.length > 0) {\r\n      for (let i = 0; i < imageUploadedRef.current.length; i++) {\r\n        const uploadTask = storage\r\n          .ref(`images/${imageUploadedRef.current[i].name}`)\r\n          .put(imageUploadedRef.current[i]);\r\n        uploadTask.on(\r\n          \"state_changed\",\r\n          (snapshot) => { },\r\n          (err) => {\r\n            console.log(err);\r\n          },\r\n          () => {\r\n            storage\r\n              .ref(\"images\")\r\n              .child(imageUploadedRef.current[i].name)\r\n              .getDownloadURL()\r\n              .then((url) => {\r\n                socket.emit(\"updateData\", {\r\n                  senderId: user._id,\r\n                  isImg: true,\r\n                  content: url,\r\n                });\r\n              })\r\n              .then(() => {\r\n                setTimeout(() => {\r\n                  if (i === imageUploadedRef.current.length - 1) {\r\n                    console.log(\"zo day\");\r\n                    imageUploadedRef.current = [];\r\n                    setImageUrl([]);\r\n                  }\r\n                }, 1000);\r\n              });\r\n          }\r\n        );\r\n      }\r\n    }\r\n    if (e.target.inputText.value.trim() !== \"\") {\r\n      let data = e.target.inputText.value;\r\n      let check = checkIcon(data);\r\n      if (check) {\r\n        for (let x of check) {\r\n          data = data.split(x.syntax).join(`<span><img src=\"${x.url}\"></span>`);\r\n        }\r\n      }\r\n      console.log(data);\r\n      socket.emit(\"updateData\", {\r\n        senderId: user._id,\r\n        isImg: false,\r\n        content: data,\r\n      });\r\n    }\r\n\r\n    e.target.inputText.value = \"\";\r\n  };\r\n  const handleClick = (e, index) => {\r\n    if (e.target.id === \"removeUploadImg\") {\r\n      let a = [...imageUrl];\r\n      a.splice(index, 1);\r\n      imageUploadedRef.current.splice(index, 1);\r\n      setImageUrl(a);\r\n    } else if (e.target.id === \"input-file\") {\r\n      e.target.value = null;\r\n    } else {\r\n      popupRef.current.classList.toggle(\"visiblePopup\");\r\n    }\r\n  };\r\n\r\n  const onClickIcon = (e) => {\r\n    inputValueRef.current.value += icons[parseInt(e.target.id)][\"syntax\"];\r\n    inputValueRef.current.focus();\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(currentChats);\r\n    chatRef.current = currentChats;\r\n    chatBox.current.scrollTop = chatBox.current.offsetHeight;\r\n  }, [currentChats, imageUrl]);\r\n  useEffect(() => {\r\n    conversationApi\r\n      .getMany({\r\n        limit: 10,\r\n      })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          let arr = [];\r\n          res.data.data.forEach((item) => {\r\n            if (item.isImg) arr.unshift(createChat(item, item.isImg));\r\n            else arr.unshift(createChat(item, item.isImg));\r\n          });\r\n          setCurrentChat(arr);\r\n        }\r\n      });\r\n    socket.on(\"serverSend\", (data) => {\r\n      console.log(chatRef.current);\r\n      let arr = chatRef.current;\r\n      arr.push(createChat(data, data.isImg));\r\n      setCurrentChat([...arr]);\r\n    });\r\n    return () => {\r\n      socket.off(\"serverSend\");\r\n    };\r\n  }, []);\r\n  return (\r\n    <div className=\"conversation\">\r\n      <div className=\"conversation__title\">Conversation</div>\r\n      {loadding && <Loadding fonsize={\"20px\"} />}\r\n      <div\r\n        ref={chatBox}\r\n        onScroll={(e) => {\r\n          let scrolled = e.target.scrollTop;\r\n          if (scrolled <= 0) {\r\n            setLoadding(true);\r\n            conversationApi\r\n              .getMany({\r\n                limit: currentChats.length + 5,\r\n              })\r\n              .then((res) => {\r\n                if (res.status === 200) {\r\n                  let arr = [];\r\n                  res.data.data.forEach((item) => {\r\n                    if (item.isImg) arr.unshift(createChat(item, item.isImg));\r\n                    else arr.unshift(createChat(item, item.isImg));\r\n                  });\r\n                  setCurrentChat(arr);\r\n                  setLoadding(false);\r\n                }\r\n              });\r\n          }\r\n        }}\r\n        className=\"conversation__chatBox\"\r\n      >\r\n        {currentChats.map((item, index) => (\r\n          <div className=\"conversation__chatBox__item\" key={index}>\r\n            {item}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"conversation__inputChat\">\r\n        <div className=\"conversation__inputChat__imageUploaded\">\r\n          {imageUrl.length > 0 &&\r\n            imageUrl.map((item, index) => (\r\n              <div\r\n                key={index}\r\n                className=\"conversation__inputChat__imageUploaded__item\"\r\n              >\r\n                <i\r\n                  id=\"removeUploadImg\"\r\n                  onClick={(e) => {\r\n                    handleClick(e, index);\r\n                  }}\r\n                  className=\"far fa-window-close\"\r\n                ></i>\r\n                <img src={item} alt=\"\" />\r\n              </div>\r\n            ))}\r\n        </div>\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault()\r\n            if (user) {\r\n              handleSubmit(e);\r\n            } else alert(\"please SignIn\");\r\n          }}\r\n          className=\"conversation__inputChat__form\"\r\n        >\r\n          <input\r\n            autoComplete=\"off\"\r\n            ref={inputValueRef}\r\n            name=\"inputText\"\r\n            placeholder=\"Type your text here\"\r\n            type=\"text\"\r\n          />\r\n          <label htmlFor=\"input-file\">\r\n            <i className=\"fas fa-image\"></i>\r\n          </label>\r\n          <input\r\n            onClick={handleClick}\r\n            onChange={handleOnchange}\r\n            style={{\r\n              display: \"none\",\r\n            }}\r\n            id=\"input-file\"\r\n            type=\"file\"\r\n          />\r\n          <div\r\n            className=\"conversation__inputChat__form__icon\"\r\n            onClick={handleClick}\r\n          >\r\n            <div ref={popupRef} className=\"popupIconChat\">\r\n              <table>{renderIcon()}</table>\r\n            </div>\r\n            <i id=\"icon\" className=\"fas fa-smile\"></i>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Conversation;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport HotFilm from \"../HotFilm\";\r\nimport Conversation from \"../Conversation\";\r\nimport filmApi from \"../../api/filmApi\";\r\nimport \"./style.scss\";\r\n\r\nfunction LeftComponent() {\r\n  // const [data, setData] = useState([]);\r\n  const [films, setFilms] = useState(null);\r\n  // const { films } = props;\r\n\r\n  useEffect(() => {\r\n    filmApi\r\n      .getAll({\r\n        sort: \"vote\",\r\n        limit: 10,\r\n      })\r\n      .then((res) => {\r\n        setFilms(res.data.product);\r\n      });\r\n  }, []);\r\n  return (\r\n    <div className=\"LeftComponent\">\r\n      <Conversation />\r\n      <div className=\"LeftComponent__topFilms\">\r\n        {films && <HotFilm films={films} title=\"Hot Films\" />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LeftComponent;\r\n","import React, { useRef, useState } from \"react\";\r\nimport \"./style.scss\";\r\nfunction Input(props) {\r\n  const { label, name, type, value, onChange, onBlur, showPassword } = props;\r\n  const inputRef = useRef(null);\r\n  const [isShowPass, setIsShowPass] = useState(false);\r\n  const togglePass = () => {\r\n    setIsShowPass(!isShowPass);\r\n    if (!isShowPass) {\r\n      inputRef.current.type = \"text\";\r\n      return;\r\n    }\r\n    inputRef.current.type = \"password\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"input\">\r\n      <input\r\n        autoComplete=\"off\"\r\n        name={name}\r\n        type={type}\r\n        value={value}\r\n        onChange={onChange}\r\n        placeholder={label}\r\n        onBlur={onBlur}\r\n        ref={showPassword && inputRef}\r\n      />\r\n\r\n      {showPassword && (\r\n        <div className=\"toggle-pass\" onClick={togglePass}>\r\n          {isShowPass ? (\r\n            <i className=\"far fa-eye-slash\"></i>\r\n          ) : (\r\n            <i className=\"far fa-eye\"></i>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","const { default: axiosClient } = require(\"./axiosClient\")\r\nconst userApi = {}\r\n\r\nuserApi.signUp = async (params) => {\r\n    const url = '/api/signup'\r\n    return await axiosClient.post(url,params)\r\n}\r\nuserApi.signIn = async (params) => {\r\n    const url= `/api/signin`\r\n    return await axiosClient.post(url,params)\r\n}\r\nuserApi.signInAfterReload = async()=>{\r\n    const url= `/api/me`\r\n    return await axiosClient.post(url)\r\n}\r\nexport default userApi","import React, { useContext, useEffect, useState } from \"react\";\r\nimport Input from \"../../../components/Input/index\";\r\nimport userApi from \"../../../api/userApi\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../../../context/UserContext\";\r\nimport \"../style.scss\";\r\n\r\nfunction Signin(props) {\r\n  const [value, setValue] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [err, setErr] = useState(null);\r\n  const { user, setUser } = useContext(UserContext);\r\n  const handleChange = (e) => {\r\n    setValue({\r\n      ...value,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErr(null);\r\n    handleValidate(\"email\", true);\r\n    handleValidate(\"password\", true);\r\n    if (!err) {\r\n      try {\r\n        let response = await userApi.signIn({\r\n          email: value.email,\r\n          password: value.password,\r\n        });\r\n        console.log(response.data);\r\n\r\n        localStorage.setItem(\"token\", response.data.token);\r\n        setUser(response.data.user);\r\n      } catch (err) {\r\n        console.log(err.response);\r\n        setErr(err.response.data.message);\r\n      }\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [user, history]);\r\n  const handleValidate = (name, submit = false) => {\r\n    if (!submit) {\r\n      setErr(null);\r\n    }\r\n    if (name === \"email\") {\r\n      let checkRegex = /^[a-z][a-z0-9_]{5,32}@[a-z0-9]{2,}(\\.[a-z0-9]{2,4}){1,2}$/gim;\r\n      if (!checkRegex.test(value.email)) {\r\n        setErr(\"Email is not valid\");\r\n      }\r\n    }\r\n    if (name === \"password\" && value.password.length < 6) {\r\n      setErr(\"Password can not be less than 6 character\");\r\n    }\r\n  };\r\n  const validate = (e) => {\r\n    handleValidate(e.target.name);\r\n  };\r\n  return (\r\n    <div style={{ height: \"400px\" }} className=\"container__auth\">\r\n      <div className=\"logo\">\r\n        <img src=\"https://i.imgur.com/lGh30No.png\" alt=\"logo\" />\r\n      </div>\r\n      {err && (\r\n        <div style={{ marginTop: \"30px\" }} className=\"err\">\r\n          <p>{err}</p>\r\n        </div>\r\n      )}\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <Input\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            type=\"value\"\r\n            value={value.email}\r\n            onChange={handleChange}\r\n            onBlur={validate}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Input\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={value.password}\r\n            onChange={handleChange}\r\n            onBlur={validate}\r\n            showPassword={true}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"btn\">\r\n          <button type=\"submit\">Login</button>\r\n        </div>\r\n        <div>\r\n          <p className=\"redirect\">\r\n            Chưa Có Tài Khoản?\r\n            <Link className=\"redirect__auth\" to=\"/auth/sign-up\">\r\n              Đăng Kí\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signin;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Input from \"../../../components/Input/index\";\r\nimport { Link } from \"react-router-dom\";\r\nimport userApi from \"../../../api/userApi\";\r\nimport \"../style.scss\";\r\n\r\nfunction Signup(props) {\r\n  const [value, setValue] = useState({\r\n    userName: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [err, setErr] = useState({\r\n    isErr: false,\r\n    nameErr: \"\",\r\n  });\r\n  const handleChange = (e) => {\r\n    setValue({\r\n      ...value,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSuccessMessage(null);\r\n    validate(\"email\", true);\r\n    validate(\"password\", true);\r\n    validate(\"confirmPassword\", true);\r\n    if (!err.isErr) {\r\n      try {\r\n        await userApi.signUp({\r\n          userName: value.userName,\r\n          password: value.password,\r\n          email: value.email,\r\n        });\r\n\r\n        setSuccessMessage(\"You have registered successfully\");\r\n      } catch (err) {\r\n        console.log(err.response);\r\n        setErr({\r\n          isErr: true,\r\n          nameErr: err.response.data.message,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const validate = (name, submit = false) => {\r\n    if (!submit) {\r\n      setErr({\r\n        ...err,\r\n        isErr: false,\r\n        nameErr: \"\",\r\n      });\r\n    }\r\n\r\n    if (name === \"email\") {\r\n      let checkRegex = /^[a-z][a-z0-9_]{5,32}@[a-z0-9]{2,}(\\.[a-z0-9]{2,4}){1,2}$/gim;\r\n      if (!checkRegex.test(value.email)) {\r\n        setErr({\r\n          ...err,\r\n          isErr: true,\r\n          nameErr: \"cú pháp email không hợp lệ\",\r\n        });\r\n      }\r\n      return;\r\n    } else if (name === \"password\") {\r\n      if (value.password.length < 6 || value.password.trim() === \"\") {\r\n        setErr({\r\n          ...err,\r\n          isErr: true,\r\n          nameErr: \"password quá ngắn\",\r\n        });\r\n        return;\r\n      }\r\n    } else if (name === \"confirmPassword\") {\r\n      if (value.confirmPassword !== value.password) {\r\n        setErr({\r\n          ...err,\r\n          isErr: true,\r\n          nameErr: \"confirmPassword không trùng nhau\",\r\n        });\r\n        return;\r\n      }\r\n    }\r\n  };\r\n  const handle = (e) => {\r\n    validate(e.target.name);\r\n  };\r\n  useEffect(() => {\r\n    console.log(err);\r\n  }, [err]);\r\n\r\n  // const test = (e) => {\r\n  //   let b = e.target.parentElement.firstChild.firstChild.type;\r\n  //   console.log(b);\r\n  //   // e.target.parentElement.childNodes[0].setAttribute(\"type\", \"text\");\r\n  //   e.target.parentElement.firstChild.firstChild.type = b === \"text\" ? \"password\" : \"text\";\r\n  // };\r\n\r\n  return (\r\n    <div className=\"container__auth\">\r\n      <div className=\"logo\">\r\n        <img src=\"https://i.imgur.com/lGh30No.png\" alt=\"logo\" />\r\n      </div>\r\n\r\n      {err.isErr && (\r\n        <div className=\"err\">\r\n          <p>{err.nameErr}</p>\r\n        </div>\r\n      )}\r\n      {successMessage && (\r\n        <div className=\"success\">\r\n          <p>{successMessage}</p>\r\n        </div>\r\n      )}\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"container-input\">\r\n          <Input\r\n            label=\"User Name\"\r\n            name=\"userName\"\r\n            type=\"value\"\r\n            value={value.userName}\r\n            onChange={handleChange}\r\n            onBlur={handle}\r\n          />\r\n        </div>\r\n        <div className=\"container-input\">\r\n          <Input\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            type=\"value\"\r\n            value={value.email}\r\n            onChange={handleChange}\r\n            onBlur={handle}\r\n          />\r\n        </div>\r\n        <div className=\"container-input\">\r\n          <Input\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={value.password}\r\n            onChange={handleChange}\r\n            onBlur={handle}\r\n            showPassword={true}\r\n          />\r\n        </div>\r\n        <div className=\"container-input\">\r\n          <Input\r\n            label=\"Confirm Password\"\r\n            name=\"confirmPassword\"\r\n            type=\"password\"\r\n            value={value.confirmPassword}\r\n            onChange={handleChange}\r\n            onBlur={handle}\r\n            showPassword={true}\r\n          />\r\n        </div>\r\n        <div className=\"btn\">\r\n          <button type=\"submit\">Register</button>\r\n        </div>\r\n        <div>\r\n          <p className=\"redirect\">\r\n            Bạn Có Tài Khoản?\r\n            <Link className=\"redirect__auth\" to=\"/auth/sign-in\">\r\n              Đăng Nhập\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Route, useHistory } from \"react-router-dom\";\r\nimport Signin from \"./Signin/index\";\r\nimport Signup from \"./Signup/index\";\r\nimport userContext from '../../context/UserContext'\r\nimport \"./style.scss\";\r\n\r\nAuth.propTypes = {};\r\n\r\n\r\nfunction Auth(props) {\r\n  const history = useHistory()\r\n  const {user,setUser} = useContext(userContext)\r\n  useEffect(()=>{\r\n    if(user){\r\n      history.push('/')\r\n    }\r\n    else{\r\n      history.push('/auth/sign-in')\r\n    }\r\n  },[user,history])\r\n  return (\r\n    <div className=\"auth\">\r\n      <Route path=\"/auth/sign-in\" component={Signin} />\r\n      <Route path=\"/auth/sign-up\" component={Signup} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Auth;\r\n","import React from \"react\";\r\nimport ErrorPage from \"../../../components/ErrorPage\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\nfunction UserInfor({ user }) {\r\n  return (\r\n    <>\r\n      {user && (\r\n        <div className=\"box-infor\">\r\n          <h3 className=\"title\">Thông Tin Cá Nhân</h3>\r\n          <div className=\"content\">\r\n            <div className=\"avatar\">\r\n              <img src={user.avatar} alt=\"logo\" />\r\n            </div>\r\n            <div className=\"input-upload\">\r\n              <input type=\"file\" />\r\n            </div>\r\n            <p>\r\n              <span className=\"infor\"> UserName:</span>{\" \"}\r\n              <span>{user.userName}</span>\r\n            </p>\r\n            <p>\r\n              <span className=\"infor\"> Email: </span>\r\n              <span>{user.email}</span>\r\n            </p>\r\n            <p>\r\n              <span className=\"infor\">tài khoản:</span> <span>Member</span>\r\n            </p>\r\n\r\n            <div className=\"change-password\">\r\n              <Link to=\"/member/change-password\">Đổi mật khẩu</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {!user && <ErrorPage />}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserInfor;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nFavoriteFilm.propTypes = {};\r\n\r\nfunction FavoriteFilm(props) {\r\n  return <div>film</div>;\r\n}\r\n\r\nexport default FavoriteFilm;\r\n","import React, { useState } from \"react\";\r\nimport Input from \"../../../components/Input\";\r\nimport \"./style.scss\";\r\nfunction ChangePassword(props) {\r\n  const [value, setValue] = useState({\r\n    currentPassword: \"\",\r\n    newPassword: \"\",\r\n    comfirmPassword: \"\",\r\n  });\r\n  const handleChange = (e) => {\r\n    setValue({\r\n      ...value,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n  };\r\n  return (\r\n    <div className=\"form-password\">\r\n      <div className=\"title\">\r\n        <h3>Change Password</h3>\r\n      </div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <Input\r\n            label=\" Current Password\"\r\n            name=\"currentPassword\"\r\n            type=\"password\"\r\n            value={value.currentPassword}\r\n            onChange={handleChange}\r\n            // onBlur={validate}\r\n            showPassword={true}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Input\r\n            label=\"New Password\"\r\n            name=\"newPassword\"\r\n            type=\"password\"\r\n            value={value.newPassword}\r\n            onChange={handleChange}\r\n            showPassword={true}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Input\r\n            label=\"Confirm Password\"\r\n            name=\"comfirmPassword\"\r\n            type=\"password\"\r\n            value={value.comfirmPassword}\r\n            onChange={handleChange}\r\n            showPassword={true}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"btn\">\r\n          <button type=\"submit\">Change Password</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChangePassword;\r\n","import React, { useContext } from \"react\";\r\nimport { Route, NavLink, Switch } from \"react-router-dom\";\r\nimport UserInfor from \"./UserInfor\";\r\nimport userContext from \"../../context/UserContext\";\r\nimport FavoriteFilm from \"./FavoriteFilm\";\r\nimport ErrorPage from \"../../components/ErrorPage\";\r\n\r\nimport \"./style.scss\";\r\nimport ChangePassword from \"./ChangePassword\";\r\nfunction Member(props) {\r\n  const { user, setUser } = useContext(userContext);\r\n\r\n  return (\r\n    <div className=\"container-user\">\r\n      <div className=\"menu-left\">\r\n        <div className=\"user-infor\">\r\n          <NavLink to=\"/member/user-infor\" activeClassName=\"user-active\">\r\n            <i className=\"far fa-user\"></i> Thông tin tài khoản\r\n          </NavLink>\r\n        </div>\r\n        <div className=\"favorite-films\">\r\n          <NavLink to=\"/member/favorite-film\" activeClassName=\"user-active\">\r\n            <i className=\"fas fa-film\"></i> phim yêu thích\r\n          </NavLink>\r\n        </div>\r\n      </div>\r\n      <div className=\"content-right\">\r\n        <Switch>\r\n          <Route path=\"/member/user-infor\">\r\n            <UserInfor user={user} />\r\n          </Route>\r\n          <Route path=\"/member/favorite-film\" component={FavoriteFilm} />\r\n          <Route path=\"/member/change-password\" component={ChangePassword} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Member;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\n\r\nfunction Footer(props) {\r\n  return (\r\n    <>\r\n      <footer className=\"footer\">\r\n        <div className=\"container\">\r\n          <div className=\"row-footer\">\r\n            <div className=\"column-footer madeby\">\r\n              <h3 className=\"footer__heading\">Made by</h3>\r\n              <ul className=\"footer-list made-by\">\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    Bùi Văn Hiếu\r\n                  </Link>\r\n                </li>\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    Đỗ Hải Nam\r\n                  </Link>\r\n                </li>\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    Nguyễn Xuân Nguyên\r\n                  </Link>\r\n                </li>\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    Phùng Thế Hùng\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"column-footer\">\r\n              <h3 className=\"footer__heading\">Location</h3>\r\n              <ul className=\"footer-list\">\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    <i className=\"fas fa-map-marker-alt\"></i> Cơ sở 1, trụ sở chính:\r\n                    Tầng 6, toà C, 22 Thành Công, Hà Nội\r\n                  </Link>\r\n                </li>\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    <i className=\"fas fa-map-marker-alt\"></i> Cơ sở 2: Tầng 2, 29T1\r\n                    Hoàng Đạo Thuý, Hà Nội\r\n                  </Link>\r\n                </li>\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    <i className=\"fas fa-map-marker-alt\"></i> Cơ sở 3: Tầng 6, 107\r\n                    Nguyễn Phong Sắc, Hà Nội\r\n                  </Link>\r\n                </li>\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    <i className=\"fas fa-map-marker-alt\"></i> Cơ sở 4: Tầng 5, 71\r\n                    Nguyễn Chí Thanh, Hà Nội (trụ sở chính)\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"column-footer contact\">\r\n              <h3 className=\"footer__heading\">Contact with us</h3>\r\n              <ul className=\"footer-list\">\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    <i className=\"fab fa-facebook-square\"></i> FaceBook\r\n                  </Link>\r\n                </li>\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    <i className=\"fab fa-instagram\"></i> Instagram\r\n                  </Link>\r\n                </li>\r\n                <li className=\"footer-item\">\r\n                  <Link to=\"/\" className=\"footer-item__link\">\r\n                    <i className=\"fab fa-youtube\"></i> Youtube\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"copyright\">\r\n          <p>© 2020 - bản quyền thuộc về abcxyz </p>\r\n        </div>\r\n      </footer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { UserProvider } from \"./context/UserContext\";\r\n\r\nimport NavBar from \"./components/Header\";\r\nimport Home from \"./Pages/Home\";\r\nimport FilterFilm from \"./Pages/FilterFilm\";\r\nimport WatchFilm from \"./Pages/WatchFilm\";\r\nimport LeftComponent from \"./components/LeftComponent\";\r\nimport Auth from \"./Pages/Auth/index\";\r\nimport userApi from \"./api/userApi\";\r\nimport ErrorPage from \"./components/ErrorPage\";\r\n\r\nimport \"./App.css\";\r\nimport \"./style/reset.css\";\r\nimport Member from \"./Pages/Member\";\r\nimport Footer from \"./Pages/Footer\";\r\n\r\nfunction App() {\r\n  const [data, setData] = useState([]);\r\n  const [films, setFilms] = useState([]);\r\n  const [unRight, setUnRight] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const location = useLocation();\r\n  const [submit,setSubmit] = useState(null)\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://5f8a739718c33c0016b31771.mockapi.io/Film\")\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setData(res);\r\n        setFilms(res.slice(0, 7));\r\n      });\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      console.log(\"ok2\");\r\n      userApi\r\n        .signInAfterReload()\r\n        .then((res) => {\r\n          setUser(res.data);\r\n          console.log(\"ok\");\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"loi\");\r\n          localStorage.removeItem(\"token\");\r\n        });\r\n    }\r\n  }, []);\r\n  useEffect(()=>{\r\n    console.log(submit)\r\n  },[submit])\r\n  useEffect(() => {\r\n    if (\r\n      location.pathname === \"/auth/sign-in\" ||\r\n      location.pathname === \"/auth/sign-up\" ||\r\n      location.pathname === \"/member/user-infor\" ||\r\n      location.pathname === \"/member/favorite-film\" ||\r\n      location.pathname === \"/member/change-password\"\r\n    ) {\r\n      setUnRight(true);\r\n      return;\r\n    }\r\n    setUnRight(false);\r\n  }, [location]);\r\n  return (\r\n    <UserProvider value={{ user, setUser } }>\r\n      <div className=\"app\">\r\n        <NavBar submit={(data)=>{\r\n          setSubmit(data)\r\n        }} className=\"nav-bar\" />\r\n        <div className=\"app__container\">\r\n          <div\r\n            className=\"app__container__left\"\r\n            style={{ width: unRight && \"100%\" }}\r\n          >\r\n            <Switch>\r\n              <Route path=\"/auth\" component={Auth} />\r\n              <Route path=\"/watch-film/:id\">\r\n                <WatchFilm />\r\n              </Route>\r\n              <Route exact path=\"/search\">\r\n              <FilterFilm  searchFilm={submit} />\r\n              </Route>\r\n              <Route path=\"/filter/:query\">\r\n                <FilterFilm films={films} />\r\n              </Route>\r\n              <Route path=\"/movies-shown-in-theater\">\r\n                <FilterFilm />\r\n              </Route>\r\n              <Route exact path=\"/\">\r\n                <Home films={films} />\r\n              </Route>\r\n              {user && <Route path=\"/member\" component={Member} />}\r\n              <Route exact path=\"*\">\r\n                <ErrorPage />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n          {!unRight && (\r\n            <div className=\"app__container__right\">\r\n              <LeftComponent films={films} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    </UserProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import axios from 'axios'\r\nimport queryString from 'query-string'\r\n\r\nconst axiosClient = axios.create(\r\n    {\r\n        baseURL:process.env.REACT_APP_API_URL,\r\n        headers:{\r\n            'Content-Type': 'application/json',\r\n            \"Authorization\": `Bearer ${localStorage.getItem('token')}`\r\n        },\r\n        paramsSerializer: params => {\r\n          return queryString.stringify(params)\r\n        },\r\n    }\r\n)\r\naxiosClient.interceptors.response.use(function (response) {\r\n    // Any status code that lie within the range of 2xx cause this function to trigger\r\n    // Do something with response data\r\n    return response;\r\n  }, function (error) {\r\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n    // Do something with response error\r\n    throw error\r\n  });\r\n\r\nexport default axiosClient"],"sourceRoot":""}